//knockout-kendo v0.4.2 | (c) 2012 Ryan Niemeyer | http://www.opensource.org/licenses/mit-license
(function(e){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?e(require("knockout"),require("jquery"),require("kendo")):typeof define=="function"&&define.amd?define(["knockout","jquery","kendo"],e):e(window.ko,window.jQuery,window.kendo)})(function(e,t,n,r){e.kendo=e.kendo||{},e.kendo.BindingFactory=function(){var n=this;this.createBinding=function(r){if(!t()[r.parent||r.name])return;var i={};i.init=function(e,t){var s=n.buildOptions(r,t);if(s.async===!0||r.async===!0&&s.async!==!1){setTimeout(function(){i.setup(e,s)},0);return}i.setup(e,s)},i.setup=function(i,s){var o,u=t(i);o=n.getWidget(r,s,u),n.handleEvents(s,r,i,o),n.watchValues(o,s,r,i),o.destroy&&e.utils.domNodeDisposal.addDisposeCallback(i,function(){o.destroy()})},i.options={},i.widgetConfig=r,e.bindingHandlers[r.bindingName||r.name]=i},this.buildOptions=function(t,n){var r=t.defaultOption,i=e.utils.extend({},e.bindingHandlers[t.name].options),s=e.utils.unwrapObservable(n());return typeof s!="object"||r&&!(r in s)?i[r]=n():e.utils.extend(i,s),i},this.getWidget=function(t,n,r){var i;if(t.parent){var s=r.closest("[data-bind*='"+t.parent+":']");i=s.length?s.data(t.parent):null}else i=r[t.name](e.toJS(n)).data(t.name);return e.isObservable(n.widget)&&n.widget(i),i},this.watchValues=function(e,t,r,i){var s,o=r.watch;if(o)for(s in o)o.hasOwnProperty(s)&&n.watchOneValue(s,e,t,r,i)},this.watchOneValue=function(n,i,s,o,u){var a=e.computed({read:function(){var a=o.watch[n],f=e.utils.unwrapObservable(s[n]),l=o.parent?[u]:[],c;t.isArray(a)?a=i[f?a[0]:a[1]]:typeof a=="string"&&(a=i[a]),a&&s[n]!==r&&(c=a.apply(i,l),c!==f&&(l.push(f),a.apply(i,l)))},disposeWhenNodeIsRemoved:u});e.isObservable(s[n])||a.dispose()},this.handleEvents=function(t,r,i,s){var o,u,a=r.events;if(a)for(o in a)a.hasOwnProperty(o)&&(u=a[o],typeof u=="string"&&(u={value:u,writeTo:u}),e.isObservable(t[u.writeTo])&&n.handleOneEvent(o,u,t,i,s,r.childProp))},this.handleOneEvent=function(e,t,n,r,i,s){i.bind(e,function(e){var i,o;if(!s||!e[s]||e[s]===r)i=t.value,o=typeof i=="string"&&this[i]?this[i](s&&r):i,n[t.writeTo](o)})}},e.kendo.bindingFactory=new e.kendo.BindingFactory,e.kendo.setDataSource=function(t,n){t.dataSource.data(e.mapping?e.mapping.toJS(n||{}):e.toJS(n))};var i=function(t){return function(n){n&&(e.utils.extend(this.options[t],n),this.redraw(),this.value(.001+this.value()))}},s=e.kendo.bindingFactory.createBinding.bind(e.kendo.bindingFactory),o="close",u="collapse",a="content",f="data",l="enable",c="expand",h="enabled",p="expanded",d="isOpen",v="max",m="min",g="open",y="resize",b="search",w="select",E="selected",S="size",x="title",T="value",N="values";s({name:"kendoAutoComplete",events:{change:T,open:{writeTo:d,value:!0},close:{writeTo:d,value:!1}},watch:{enabled:l,search:[b,o],data:function(t){e.kendo.setDataSource(this,t)},value:T}}),s({name:"kendoCalendar",defaultOption:T,events:{change:T},watch:{max:v,min:m,value:T}}),s({name:"kendoComboBox",events:{change:T,open:{writeTo:d,value:!0},close:{writeTo:d,value:!1}},watch:{enabled:l,isOpen:[g,o],data:function(t){e.kendo.setDataSource(this,t)},value:T}}),s({name:"kendoDatePicker",defaultOption:T,events:{change:T,open:{writeTo:d,value:!0},close:{writeTo:d,value:!1}},watch:{enabled:l,max:v,min:m,value:T,isOpen:[g,T]}}),s({name:"kendoDateTimePicker",defaultOption:T,events:{change:T,open:{writeTo:d,value:!0},close:{writeTo:d,value:!1}},watch:{enabled:l,max:v,min:m,value:T,isOpen:[g,T]}}),s({name:"kendoDropDownList",events:{change:T,open:{writeTo:d,value:!0},close:{writeTo:d,value:!1}},watch:{enabled:l,isOpen:[g,o],data:function(t){e.kendo.setDataSource(this,t)},value:T}}),s({name:"kendoEditor",defaultOption:T,events:{change:T},watch:{enabled:l,value:T}}),s({name:"kendoGrid",defaultOption:f,watch:{data:function(t){e.kendo.setDataSource(this,t)}}}),s({name:"kendoListView",defaultOption:f,watch:{data:function(t){e.kendo.setDataSource(this,t)}}}),s({name:"kendoMenu",async:!0}),s({name:"kendoMenuItem",parent:"kendoMenu",watch:{enabled:l,isOpen:[g,o]},async:!0}),s({name:"kendoNumericTextBox",defaultOption:T,events:{change:T},watch:{enabled:l,value:T,max:function(e){this.options.max=e,this.value()>e&&this.value(e)},min:function(e){this.options.min=e,this.value()<e&&this.value(e)}}}),s({name:"kendoPanelBar",async:!0}),s({name:"kendoPanelItem",parent:"kendoPanelBar",watch:{enabled:l,expanded:[c,u]},childProp:"item",events:{expand:{writeTo:p,value:!0},collapse:{writeTo:p,value:!1}},async:!0}),s({name:"kendoRangeSlider",defaultOption:N,events:{change:N},watch:{values:N,enabled:l}}),s({name:"kendoSlider",defaultOption:T,events:{change:T},watch:{value:T,enabled:l}}),s({name:"kendoSplitter",async:!0}),s({name:"kendoSplitterPane",parent:"kendoSplitter",watch:{max:v,min:m,size:S,expanded:[c,u]},childProp:"pane",events:{collapse:{writeTo:p,value:!1},expand:{writeTo:p,value:!0},resize:S},async:!0}),s({name:"kendoTabStrip",async:!0}),s({name:"kendoTab",parent:"kendoTabStrip",watch:{enabled:l},childProp:"item",async:!0}),s({name:"kendoTimePicker",defaultOption:T,events:{change:T},watch:{max:v,min:m,value:T,enabled:l,isOpen:[g,o]}}),s({name:"kendoTreeView",async:!0}),s({name:"kendoTreeItem",parent:"kendoTreeView",watch:{enabled:l,expanded:[c,u],selected:function(e,t){this.select(t?e:null)}},childProp:"node",events:{collapse:{writeTo:p,value:!1},expand:{writeTo:p,value:!0},select:{writeTo:E,value:!0}},async:!0}),s({name:"kendoUpload",watch:{enabled:l}}),s({async:!0,name:"kendoWindow",events:{open:{writeTo:d,value:!0},close:{writeTo:d,value:!1}},watch:{content:a,title:x,isOpen:[g,o]}}),s({name:"kendoChart",watch:{data:function(t){e.kendo.setDataSource(this,t)}}}),s({name:"kendoLinearGauge",defaultOption:T,watch:{value:T,gaugeArea:i("gaugeArea"),pointer:i("pointer"),scale:i("scale")}}),s({name:"kendoRadialGauge",defaultOption:T,watch:{value:T,gaugeArea:i("gaugeArea"),pointer:i("pointer"),scale:i("scale")}})})